<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>public/js/foroJS.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/modifiers.crearFormulario.html">modifiers.crearFormulario</a></li>
                                <li><a href="../classes/modifiers.divContenidoForo.html">modifiers.divContenidoForo</a></li>
                                <li><a href="../classes/modifiers.divGeneralForo.html">modifiers.divGeneralForo</a></li>
                                <li><a href="../classes/modifiers.divRowForo.html">modifiers.divRowForo</a></li>
                                <li><a href="../classes/modifiers.divTituloForo.html">modifiers.divTituloForo</a></li>
                                <li><a href="../classes/modifiers.enviarForo.html">modifiers.enviarForo</a></li>
                                <li><a href="../classes/modifiers.FadeInFOR.html">modifiers.FadeInFOR</a></li>
                                <li><a href="../classes/modifiers.formForo.html">modifiers.formForo</a></li>
                                <li><a href="../classes/modifiers.function click &#x27;#crearForo&#x27;.html">modifiers.function click &#x27;#crearForo&#x27;</a></li>
                                <li><a href="../classes/modifiers.function click &#x27;#Formejoras&#x27;.html">modifiers.function click &#x27;#Formejoras&#x27;</a></li>
                                <li><a href="../classes/modifiers.function click &#x27;#FORpreguntas&#x27;.html">modifiers.function click &#x27;#FORpreguntas&#x27;</a></li>
                                <li><a href="../classes/modifiers.function_click_&#x27;#FORopiniones&#x27;.html">modifiers.function_click_&#x27;#FORopiniones&#x27;</a></li>
                                <li><a href="../classes/modifiers.getForo.html">modifiers.getForo</a></li>
                                <li><a href="../classes/modifiers.inputEnvioForo.html">modifiers.inputEnvioForo</a></li>
                                <li><a href="../classes/modifiers.inputSelectForo.html">modifiers.inputSelectForo</a></li>
                                <li><a href="../classes/modifiers.keyup.html">modifiers.keyup</a></li>
                                <li><a href="../classes/modifiers.optionOpinionForo.html">modifiers.optionOpinionForo</a></li>
                                <li><a href="../classes/modifiers.optionPreguntasForo.html">modifiers.optionPreguntasForo</a></li>
                                <li><a href="../classes/modifiers.Popper.html">modifiers.Popper</a></li>
                                <li><a href="../classes/modifiers.selectForo.html">modifiers.selectForo</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: public/js/foroJS.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">

//Creador Moises Ortega
//Javascript para el apartado &quot;FORO&quot;

// Funciones generales de uso vario

/**
* @class FadeInFOR
* @param elemento {String} | tiempo {int}
*/
function FadeInFOR(elemento, tiempo){
	$(elemento).fadeIn(tiempo);
}

/**
* @class FadeInFOR
* @param elemento {String} | tiempo {int}
 */
function FadeOutFOR(elemento, tiempo){
	$(elemento).fadeOut(tiempo);
}

// Funciones JQuery

/** 
*@class function_click_&#x27;#FORopiniones&#x27;
*/
$(function(){
	$(&#x27;#FORopiniones&#x27;).click(function(){
		$(&#x27;#FORopinionesTab&#x27;).delay(800).fadeIn(FadeOutFOR(&#x27;.FORtable&#x27;));
	})
});

/**
*@class function click &#x27;#FORpreguntas&#x27;
 */
$(function(){
	$(&#x27;#FORpreguntas&#x27;).click(function(){
		$(&#x27;#FORpreguntasTab&#x27;).delay(800).fadeIn(FadeOutFOR(&#x27;.FORtable&#x27;));
	})
});

/**
*@class function click &#x27;#Formejoras&#x27;
 */
$(function(){
	$(&#x27;#Formejoras&#x27;).click(function(){
		$(&#x27;#FORmejorasTab&#x27;).delay(800).fadeIn(FadeOutFOR(&#x27;.FORtable&#x27;));
	})
});

/**
*@class function click &#x27;#crearForo&#x27;
 */
$(function(){
	$(&#x27;#crearForo&#x27;).click(function(){
		$(&#x27;#formularioForo&#x27;).delay(800).fadeIn(FadeOutFOR(&#x27;.FORtable&#x27;));
	})
});

/**
* Buscador del Foro
*@class keyup
 */
$(document).ready(function () {
	(function ($) {
		$(&#x27;#filtrar&#x27;).keyup(function () {
			var rex = new RegExp($(this).val(), &#x27;i&#x27;);
			$(&#x27;.buscar tr&#x27;).hide();
			$(&#x27;.buscar tr&#x27;).filter(function () {
				return rex.test($(this).text());
			}).show();
		})
	}(jQuery));
});

/**
*@class formForo
*/
var formForo = $(&#x27;&lt;form&gt;&#x27;,{
    &#x27;method&#x27;: &#x27;POST&#x27;,
    &#x27;name&#x27;: &#x27;formularioForo&#x27;,
    &#x27;id&#x27;: &#x27;formularioForo&#x27;,
    &#x27;class&#x27;: &#x27;FORtable collapse&#x27;,
});

/**
*@class divRowForo
*/
var divRowForo = $(&#x27;&lt;div&gt;&#x27;, {
    &#x27;class&#x27;: &#x27;row&#x27;,
});

/**
*@class divGeneralForo
*/
var divGeneralForo = $(&#x27;&lt;div&gt;&#x27;, {
    &#x27;class&#x27;: &#x27;col-md-12&#x27;,
});

/**
*@class divTituloForo
*/
var divTituloForo = $(&#x27;&lt;div&gt;&#x27;, {
    &#x27;class&#x27;: &#x27;col-md-12&#x27;,
}).append($(&#x27;&lt;input&gt;&#x27;,{
    &#x27;type&#x27;: &#x27;text&#x27;,
    &#x27;name&#x27;: &#x27;tituloForo&#x27;,
    &#x27;id&#x27;: &#x27;tituloForo&#x27;,
    &#x27;placeholder&#x27;: &#x27;Titulo&#x27;,
})); 

/**
*@class divContenidoForo
*/
var divContenidoForo = $(&#x27;&lt;div&gt;&#x27;, {
        &#x27;class&#x27;: &#x27;col-md-12&#x27;,
    }).append($(&#x27;&lt;label&gt;&#x27;).text(&#x27;Contenido&#x27;)).append(
        $(&#x27;&lt;br&gt;&#x27;)).append($(&#x27;&lt;textarea&gt;&#x27;, {
            &#x27;rows&#x27;: &#x27;4&#x27;,
            &#x27;cols&#x27;: &#x27;40&#x27;,
            &#x27;name&#x27;: &#x27;descForo&#x27;,
            &#x27;id&#x27;: &#x27;descForo&#x27;,
            &#x27;style&#x27;: &#x27;resize: none&#x27;, 
        })); 

/**
*@class inputEnvioForo
*/
var inputEnvioForo = $(&#x27;&lt;input&gt;&#x27;, {
    &#x27;type&#x27; : &#x27;button&#x27;,
    &#x27;class&#x27;: &#x27;btn btn-success col-md-2&#x27;,
    &#x27;onclick&#x27;: &#x27;enviarForo()&#x27;,
    &#x27;value&#x27;: &#x27;Enviar&#x27;,
});

/**
*@class inputSelectForo
*/
var inputSelectForo = $(&#x27;&lt;select&gt;&#x27;, {
    &#x27;id&#x27;:&#x27;categoriaForo&#x27;,
    &#x27;name&#x27;:&#x27;categoriaForo&#x27;,
    &#x27;placeholder&#x27;:&#x27;Categoria&#x27;,
});

/**
*@class optionOpinionForo
*/
var optionOpinionForo = $(&#x27;&lt;option&gt;&#x27;,{
	&#x27;value&#x27;:&#x27;opiniones&#x27;
}).text(&#x27;Opinion&#x27;);

/**
*@class optionPreguntasForo
*/
var optionPreguntasForo = $(&#x27;&lt;option&gt;&#x27;,{
	&#x27;value&#x27;:&#x27;preguntas&#x27;
}).text(&#x27;Preguntas&#x27;);

/**
*class optionMejorasForo
*/
var optionMejorasForo = $(&#x27;&lt;option&gt;&#x27;,{
	&#x27;value&#x27;:&#x27;mejoras&#x27;
}).text(&#x27;Mejoras&#x27;);

/**
*@class selectForo
*/
var selectForo =  inputSelectForo.append(optionOpinionForo).append(optionPreguntasForo).append(optionMejorasForo);

/**
*@class crearFormulario
*@param divGeneralForo
*/
function crearFormulario(){
	$(function(){
        $(divGeneralForo).append(divTituloForo);
        $(divGeneralForo).append($(&#x27;&lt;br&gt;&#x27;));
        $(divGeneralForo).append(divContenidoForo);
        $(divGeneralForo).append($(&#x27;&lt;br&gt;&#x27;));
        $(divGeneralForo).append(selectForo);
        $(divGeneralForo).append($(&#x27;&lt;br&gt;&#x27;));
        $(divGeneralForo).append($(&#x27;&lt;br&gt;&#x27;));
        $(divGeneralForo).append(inputEnvioForo);
        $(divGeneralForo).append($(&#x27;&lt;br&gt;&#x27;));
        $(divRowForo).append(divGeneralForo);
        $(formForo).append(divRowForo);
        $(&quot;#divBotones&quot;).after(formForo);
	});
}

/**
*@class enviarForo
*/
function enviarForo(){
	var formData = new FormData(document.getElementById(&#x27;formularioForo&#x27;));

	$.ajax({	
	    type: &#x27;POST&#x27;,
	    crossDomain: true,
	    url: &#x27;api/setForo&#x27;,
	    data: formData,
	    cache: false,
	    processData: false,
	    contentType: false
	}).fail(function( jqXHR, textStatus, errorThrown ) {
      console.log(&quot;setForo fail&quot;);
	  console.log(errorThrown);
  	}).done(function(){
  		console.log(&quot;setForo success&quot;);
  		$(&#x27;#tituloForo&#x27;).val(&quot;&quot;);
  		$(&#x27;#descForo&#x27;).val(&quot;&quot;);
  		$(&#x27;&#x27;).delay(800).fadeIn(FadeOutFOR(&#x27;.FORtable&#x27;));
  	})
}

/**
*@class getForo
*@param categoria {String}
*/
function getForo(categoria){
	$.ajax({	
	    type: &#x27;POST&#x27;,
	    crossDomain: true,
	    url: &#x27;api/getForo&#x27;,
	    data: {&#x27;categoria&#x27;:categoria},
	    cache: false,
	}).fail(function( jqXHR, textStatus, errorThrown ) {
      console.log(&quot;getForo fail&quot;);
	  console.log(errorThrown);
  	}).done(function(res){
  		console.log(&quot;getForo success&quot;);
  		for (var k in res) {
  			var titulo = $(&quot;&lt;td&gt;&quot;).text(res[k].titulo);
  			var contenido = $(&quot;&lt;td&gt;&quot;).text(res[k].contenido);
  			var fecha = $(&quot;&lt;td&gt;&quot;).text(res[k].created_at);
  			var tr = $(&quot;&lt;tr&gt;&quot;).append(titulo);
  			var tr2 = tr.append(contenido);
  			var trFin = tr2.append(fecha);
  			$(&#x27;#FOR&#x27;+categoria+&#x27;Tab tbody&#x27;).append(trFin);
  		}
  	})
}
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
